{"ast":null,"code":"var _jsxFileName = \"/home/lukas/Desktop/projects/nutrition-label-maker/src/containers/ProductsList/ProductsList.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Product from \"../../components/Product/Product\";\nimport AddProduct from \"../../components/Product/AddProduct/AddProduct\";\nimport Modal from \"../../components/UI/Modal/Modal\";\nimport ProductModal from \"../../components/Product/ProductModal/ProductModal\";\nimport AddProductModal from \"../../components/Product/AddProductModal/AddProductModal\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport * as actions from \"../../Store/actions\";\nimport Styles from \"./ProductsList.module.css\";\n\nclass ProductsList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      amountInput: \"\"\n    };\n\n    this.productSelectedHandler = () => {\n      this.props.onSelectProduct(this.props.clickedProduct, this.state.amountInput);\n      this.props.history.push(\"/\");\n    };\n\n    this.amountInputHandler = event => {\n      this.setState({\n        amountInput: event.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.onFetchProducts();\n  }\n\n  render() {\n    let productsList = React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    });\n\n    if (!this.props.loading) {\n      productsList = React.createElement(React.Fragment, null, React.createElement(AddProduct, {\n        clicked: () => this.props.onClickedProduct(null),\n        name: \"Add New Product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), \"(this.props.products || []).map(product =>(\", React.createElement(Product, {\n        key: product.name,\n        name: product.name,\n        fatCalories: product.totalNutrients.FAT.quantity * 9,\n        carbohydratesCalories: product.totalNutrients.CHOCDF.quantity * 4,\n        proteinCalories: product.totalNutrients.PROCNT.quantity * 4,\n        clicked: () => this.props.onClickedProduct(product),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), \"))\");\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(Modal, {\n      show: this.props.showModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, this.props.clickedProduct ? React.createElement(ProductModal, {\n      product: this.props.clickedProduct,\n      buttonClickced: this.productSelectedHandler,\n      inputValue: this.state.amountInput,\n      inputChanged: event => this.amountInputHandler(event),\n      closeIconClicked: () => this.props.onCloseModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }) : React.createElement(AddProductModal, {\n      closeIconClicked: () => this.props.onCloseModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: Styles.ProductList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, productsList));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    showModal: state.productList.showModal,\n    clickedProduct: state.productList.clickedProduct,\n    selectedProducts: state.productList.selectedProducts,\n    products: state.productList.products,\n    loading: state.productList.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSelectProduct: (product, amount) => dispatch(actions.productSelected(product, amount)),\n    onClickedProduct: product => dispatch(actions.productClicked(product)),\n    onCloseModal: () => dispatch(actions.closeModal()),\n    onFetchProducts: () => dispatch(actions.fetchProducts())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsList);","map":{"version":3,"sources":["/home/lukas/Desktop/projects/nutrition-label-maker/src/containers/ProductsList/ProductsList.js"],"names":["React","Component","connect","Product","AddProduct","Modal","ProductModal","AddProductModal","Spinner","actions","Styles","ProductsList","state","amountInput","productSelectedHandler","props","onSelectProduct","clickedProduct","history","push","amountInputHandler","event","setState","target","value","componentDidMount","onFetchProducts","render","productsList","loading","onClickedProduct","product","name","totalNutrients","FAT","quantity","CHOCDF","PROCNT","showModal","onCloseModal","ProductList","mapStateToProps","productList","selectedProducts","products","mapDispatchToProps","dispatch","amount","productSelected","productClicked","closeModal","fetchProducts"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Product from \"../../components/Product/Product\";\nimport AddProduct from \"../../components/Product/AddProduct/AddProduct\";\nimport Modal from \"../../components/UI/Modal/Modal\";\nimport ProductModal from \"../../components/Product/ProductModal/ProductModal\";\nimport AddProductModal from \"../../components/Product/AddProductModal/AddProductModal\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport * as actions from \"../../Store/actions\";\nimport Styles from \"./ProductsList.module.css\";\n\n\nclass ProductsList extends Component {\n    state = { amountInput:\"\"}\n\n    componentDidMount () {\n      this.props.onFetchProducts()\n    }\n\n    productSelectedHandler = () => {\n      this.props.onSelectProduct(this.props.clickedProduct, this.state.amountInput);\n      this.props.history.push(\"/\")\n    }\n\n    amountInputHandler = (event) => {\n      this.setState({amountInput:event.target.value})\n    }\n\n    render(){\n\n      let productsList = <Spinner/>\n      if (!this.props.loading) {\n        productsList = \n        <>\n          <AddProduct clicked={()=>this.props.onClickedProduct(null)} name=\"Add New Product\"/>\n         (this.props.products || []).map(product =>(\n          <Product\n              key={product.name}\n              name={product.name}\n              fatCalories={product.totalNutrients.FAT.quantity*9}\n              carbohydratesCalories={product.totalNutrients.CHOCDF.quantity*4}\n              proteinCalories={product.totalNutrients.PROCNT.quantity*4}\n              clicked={()=>this.props.onClickedProduct(product)}\n          />\n      ))\n      </>\n    }\n        return(\n          <>\n            <Modal show={this.props.showModal}>\n              {this.props.clickedProduct \n              ? <ProductModal\n                  product={this.props.clickedProduct}\n                  buttonClickced={this.productSelectedHandler}\n                  inputValue={this.state.amountInput}\n                  inputChanged={event =>this.amountInputHandler(event)}\n                  closeIconClicked={()=>this.props.onCloseModal()}/> \n              : <AddProductModal\n                  closeIconClicked={()=>this.props.onCloseModal()}/>}\n            </Modal>\n            <div className={Styles.ProductList}>\n            \n              {productsList}\n            </div>\n          </>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n  return {\n    showModal: state.productList.showModal,\n    clickedProduct: state.productList.clickedProduct,\n    selectedProducts: state.productList.selectedProducts,\n    products: state.productList.products,\n    loading: state.productList.loading\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSelectProduct: (product, amount) => dispatch(actions.productSelected(product, amount)),\n    onClickedProduct: (product) => dispatch(actions.productClicked(product)),\n    onCloseModal:() => dispatch(actions.closeModal()),\n    onFetchProducts: () => dispatch(actions.fetchProducts())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsList);"]},"metadata":{},"sourceType":"module"}